<!DOCTYPE html>
<html lang="en">

<style>
#welcome-msg{
    margin-bottom:15%;
}

.playerTable{
    margin-top:5%;
}

table{
    border-collapse: collapse;
    width:50%;
}

td,th{
    border: 1px solid #dddddd00;
    text-align: center;
    padding:8px;
}
</style>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="https://toppng.com/uploads/preview/volleyball-11530978121wk4yn0dzwk.png">
    <title>Volleyball Team Picker</title>
</head>
<body>
    <p align="center" id="welcome-msg">Welcome to volleyball team picker!</p>

    <div align="center">
        <label for="nameInput">Player name:</label>
        <input type=text" id="nameInput">
        <label for="skillSelect">Skill level:</label> 
            <select id="skillSelect">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
                <option value="6">6</option>
                <option value="7">7</option>
                <option value="8">8</option>
                <option value="9">9</option>
                <option value="10">10</option>
            </select>
        <button id="add" onclick="addPlayer()">Add</button> 
    </div>

    <div align="center" class="playerTable">
        <table id="playerTable">
            <tr>
                <th>Player</th>
                <th>Skill</th>
                <th></th>
            </tr>

            
        </table>
    </div>
</body>

<script>
    var players = [];
    function addPlayer(){
       player = new Player(document.getElementById("nameInput").value, document.getElementById("skillSelect").value);
       //console.log(player); 
       players.push(player);
       displayTable();
    }

    class Player{
        constructor(name,skill){
            this.name= name;
            this.skill = skill;
        }
    }

    function displayTable(){
        var table = document.getElementById("playerTable");
        clearTable();
        for(var i =0; i < players.length; i++){
            var plyr = players[i];

            var row = document.createElement("tr");
            var btnRemove = document.createElement("button");
            btnRemove.innerHTML = "REMOVE";
            btnRemove.id = plyr['name'];
            btnRemove.onclick = ()=> {
                for(var k = 0; k < players.length; k++){
                    let currPlayer = players[k];
                    if(currPlayer.name == btnRemove.id){
                        players.splice(k,1);
                    }
                    clearTable();
                    displayTable();
                      
                }
                
            };
            var properties = ['name', 'skill'];

            for(var j =0; j < properties.length; j++){
                var cell = document.createElement("td");
                cell.innerHTML = plyr[properties[j]];
                row.appendChild(cell);
                row.appendChild(btnRemove);
            }
            table.appendChild(row);

        }
    }

    function clearTable(){
        var tb = document.getElementById('playerTable');
        while(tb.rows.length > 1) {
        tb.deleteRow(1);
        }
    }
</script>
</html>